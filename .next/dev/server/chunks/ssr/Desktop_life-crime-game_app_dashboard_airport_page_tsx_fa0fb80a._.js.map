{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/app/dashboard/airport/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useCharacterStore } from '@/lib/character-store'\r\n\r\nexport default function AirportPage() {\r\n  const { character, fetchCharacter } = useCharacterStore()\r\n  const [citiesByCountry, setCitiesByCountry] = useState<Record<string, any[]>>({})\r\n  const [currentCity, setCurrentCity] = useState<any>(null)\r\n  const [hasPlane, setHasPlane] = useState(false)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [isTraveling, setIsTraveling] = useState(false)\r\n  const [error, setError] = useState<string>('')\r\n\r\n  useEffect(() => {\r\n    loadDestinations()\r\n  }, [])\r\n\r\n  const loadDestinations = async () => {\r\n    try {\r\n      const response = await fetch('/api/travel')\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        \r\n        // Filter only cities in OTHER countries\r\n        const otherCountries: Record<string, any[]> = {}\r\n        \r\n        Object.entries(data.citiesByCountry).forEach(([country, cities]: [string, any]) => {\r\n          if (!data.currentCity || country !== data.currentCity.country) {\r\n            otherCountries[country] = cities\r\n          }\r\n        })\r\n        \r\n        setCitiesByCountry(otherCountries)\r\n        setCurrentCity(data.currentCity)\r\n        setHasPlane(data.hasPlane)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load destinations:', error)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleTravel = async (cityId: string, cityName: string) => {\r\n    if (!confirm(`Fly to ${cityName}?`)) return\r\n\r\n    setIsTraveling(true)\r\n    setError('')\r\n\r\n    try {\r\n      const response = await fetch('/api/travel', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ cityId })\r\n      })\r\n\r\n      const data = await response.json()\r\n\r\n      if (response.ok) {\r\n        await fetchCharacter()\r\n        await loadDestinations()\r\n        alert(`Successfully flew to ${cityName}!`)\r\n      } else {\r\n        setError(data.error || 'Failed to travel')\r\n      }\r\n    } catch (error) {\r\n      setError('Failed to travel')\r\n      console.error('Travel error:', error)\r\n    } finally {\r\n      setIsTraveling(false)\r\n    }\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-2 border-solid border-[#5cb85c] border-r-transparent mb-4\"></div>\r\n          <p className=\"text-[#888] text-xs uppercase\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!character) return null\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-w-7xl mx-auto fade-in\">\r\n      <h1 className=\"text-2xl font-bold text-[#fff] mb-6\">‚úàÔ∏è International Airport</h1>\r\n\r\n      {error && (\r\n        <div className=\"ls-section\">\r\n          <div className=\"ls-section-content\">\r\n            <p className=\"text-danger text-sm\">{error}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Current Location */}\r\n      <div className=\"ls-section\">\r\n        <div className=\"ls-section-header\">Current Location</div>\r\n        <div className=\"ls-section-content\">\r\n          {currentCity ? (\r\n            <>\r\n              <div className=\"ls-info-row\">\r\n                <span className=\"ls-info-label\">City:</span>\r\n                <span className=\"ls-info-value\">{currentCity.name}</span>\r\n              </div>\r\n              <div className=\"ls-info-row\">\r\n                <span className=\"ls-info-label\">Country:</span>\r\n                <span className=\"ls-info-value\">{currentCity.country}</span>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <p className=\"text-[#888] text-sm\">No city selected</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Plane Status */}\r\n      <div className=\"ls-section\">\r\n        <div className=\"ls-section-header\">Private Plane</div>\r\n        <div className=\"ls-section-content\">\r\n          <div className=\"ls-info-row\">\r\n            <span className=\"ls-info-label\">Status:</span>\r\n            <span className={`ls-info-value ${hasPlane ? 'text-success' : 'text-danger'}`}>\r\n              {hasPlane ? '‚úì Owned' : '‚úó Not Owned'}\r\n            </span>\r\n          </div>\r\n          {!hasPlane && (\r\n            <p className=\"text-xs text-[#888] mt-3\">\r\n              üí° You need to buy a private plane from the Market to travel internationally!\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* International Destinations */}\r\n      {Object.keys(citiesByCountry).length === 0 ? (\r\n        <div className=\"ls-section\">\r\n          <div className=\"ls-section-content\">\r\n            <p className=\"text-[#888] text-sm\">No international destinations available.</p>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        Object.entries(citiesByCountry).map(([country, cities]) => (\r\n          <div key={country} className=\"ls-section\">\r\n            <div className=\"ls-section-header\">üåç {country}</div>\r\n            <div className=\"ls-section-content\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {cities.map((city) => (\r\n                  <div\r\n                    key={city.id}\r\n                    className={`ls-section ${city.locked ? 'opacity-50' : ''}`}\r\n                  >\r\n                    <div className=\"ls-section-header\">\r\n                      {city.name}\r\n                    </div>\r\n                    <div className=\"ls-section-content\">\r\n                      <p className=\"text-xs text-[#888] mb-3\">{city.description}</p>\r\n\r\n                      {/* Requirements */}\r\n                      <div className=\"mb-3 pb-3 border-b border-[#2a2a2a]\">\r\n                        <p className=\"text-[10px] font-bold text-[#888] uppercase mb-2\">Requirements:</p>\r\n                        <div className=\"space-y-1\">\r\n                          <p className=\"text-xs\">\r\n                            <span className=\"text-[#888]\">Level:</span>{' '}\r\n                            <span className={character.level >= city.requirements.level ? 'text-success' : 'text-danger'}>\r\n                              {city.requirements.level}\r\n                            </span>\r\n                          </p>\r\n                          <p className=\"text-xs\">\r\n                            <span className=\"text-[#888]\">Plane:</span>{' '}\r\n                            <span className={hasPlane ? 'text-success' : 'text-danger'}>\r\n                              {hasPlane ? 'Yes' : 'Required'}\r\n                            </span>\r\n                          </p>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Travel Info */}\r\n                      <div className=\"mb-3\">\r\n                        <div className=\"ls-info-row\">\r\n                          <span className=\"ls-info-label\">Flight Cost:</span>\r\n                          <span className=\"ls-info-value text-warning\">\r\n                            ${city.travelCost.toLocaleString()}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"ls-info-row\">\r\n                          <span className=\"ls-info-label\">Energy:</span>\r\n                          <span className=\"ls-info-value text-warning\">\r\n                            -{city.energyCost}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      {/* Action Button */}\r\n                      <button\r\n                        onClick={() => handleTravel(city.id, city.name)}\r\n                        disabled={!city.canTravel || isTraveling}\r\n                        className=\"ls-btn ls-btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                      >\r\n                        {city.canTravel \r\n                          ? '‚úàÔ∏è Fly'\r\n                          : city.blockedReason\r\n                        }\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}