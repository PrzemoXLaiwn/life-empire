{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/lib/supabase/client.ts"],"sourcesContent":["// lib/supabase/client.ts\r\nimport { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  )\r\n}"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AAKrB;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,qVAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/lib/character-store.ts"],"sourcesContent":["'use client'\r\n\r\nimport { create } from 'zustand'\r\n\r\nexport interface Character {\r\n  id: string\r\n  userId: string\r\n  cityId: string | null\r\n  city?: {\r\n    id: string\r\n    name: string\r\n    country: string\r\n    description: string\r\n    incomeBonus: number      // DODAJ\r\n    crimeBonus: number       // DODAJ\r\n    trainingBonus: number    // DODAJ\r\n    businessBonus: number    // DODAJ\r\n    minLevel: number         // DODAJ\r\n    requiresCar: boolean     // DODAJ\r\n    requiresPlane: boolean   // DODAJ\r\n  } | null\r\n  \r\n  money: number\r\n  energy: number\r\n  maxEnergy: number\r\n  health: number\r\n  maxHealth: number\r\n  \r\n  level: number\r\n  xp: number\r\n  xpNeeded: number\r\n  age: number\r\n  ageInDays: number\r\n  \r\n  reputation: number\r\n  rank: number\r\n  \r\n  education: string | null\r\n  job: string | null\r\n  jobTitle: string | null\r\n  salary: number\r\n  \r\n  strength: number\r\n  defense: number\r\n  speed: number\r\n  dexterity: number\r\n  \r\n  crimesCommitted: number\r\n  jailTime: number\r\n  criminalReputation: number\r\n  \r\n  hasDriverLicense: boolean\r\n  hasCar: boolean\r\n  hasPlane: boolean\r\n  \r\n  lastEnergyRegen: Date\r\n  lastHealthRegen: Date\r\n  lastAgeIncrement: Date\r\n  createdAt: Date\r\n  updatedAt: Date\r\n}\r\n\r\ninterface CharacterState {\r\n  character: Character | null\r\n  isLoading: boolean\r\n  error: string | null\r\n  \r\n  // Actions\r\n  fetchCharacter: () => Promise<void>\r\n  updateCharacter: (updates: Partial<Character>) => void\r\n  refreshCharacter: () => Promise<void>\r\n  createCharacter: (userId: string, name: string) => Promise<void>\r\n}\r\n\r\nexport const useCharacterStore = create<CharacterState>((set, get) => ({\r\n  character: null,\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  fetchCharacter: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      // Dynamic import to avoid circular dependency\r\n      const { createClient } = await import('@/lib/supabase/client')\r\n      const supabase = createClient()\r\n      \r\n      // Get authenticated user\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (!user) {\r\n        console.error('‚ùå No user authenticated')\r\n        set({ isLoading: false, error: 'Not authenticated' })\r\n        return\r\n      }\r\n\r\n      console.log('üîç Fetching character for userId:', user.id)\r\n\r\n      const response = await fetch(`/api/character?userId=${user.id}`)\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch character: ${response.statusText}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      \r\n      if (!data.character) {\r\n        console.log('‚ö†Ô∏è No character found, needs to be created')\r\n        set({ isLoading: false, error: 'No character found' })\r\n        return\r\n      }\r\n\r\n      const character = data.character\r\n      \r\n      // Convert date strings to Date objects\r\n      character.lastEnergyRegen = new Date(character.lastEnergyRegen)\r\n      character.lastHealthRegen = new Date(character.lastHealthRegen)\r\n      character.lastAgeIncrement = new Date(character.lastAgeIncrement)\r\n      character.createdAt = new Date(character.createdAt)\r\n      character.updatedAt = new Date(character.updatedAt)\r\n      \r\n      console.log('‚úÖ Character fetched:', character)\r\n      \r\n      set({ character, isLoading: false, error: null })\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to fetch character:', error)\r\n      set({ \r\n        isLoading: false,\r\n        error: error instanceof Error ? error.message : 'Failed to fetch character'\r\n      })\r\n    }\r\n  },\r\n\r\n  createCharacter: async (userId: string, name: string) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      console.log('üéÆ Creating character:', { userId, name })\r\n\r\n      const response = await fetch('/api/character', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ userId, name })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to create character: ${response.statusText}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const character = data.character\r\n      \r\n      // Convert date strings to Date objects\r\n      character.lastEnergyRegen = new Date(character.lastEnergyRegen)\r\n      character.lastHealthRegen = new Date(character.lastHealthRegen)\r\n      character.lastAgeIncrement = new Date(character.lastAgeIncrement)\r\n      character.createdAt = new Date(character.createdAt)\r\n      character.updatedAt = new Date(character.updatedAt)\r\n      \r\n      console.log('‚úÖ Character created:', character)\r\n      \r\n      set({ character, isLoading: false, error: null })\r\n    } catch (error) {\r\n      console.error('‚ùå Failed to create character:', error)\r\n      set({ \r\n        isLoading: false,\r\n        error: error instanceof Error ? error.message : 'Failed to create character'\r\n      })\r\n    }\r\n  },\r\n\r\n  updateCharacter: (updates) => {\r\n    set((state) => ({\r\n      character: state.character ? { ...state.character, ...updates } : null\r\n    }))\r\n  },\r\n\r\n  refreshCharacter: async () => {\r\n    await get().fetchCharacter()\r\n  },\r\n}))"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/dashboard/Sidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { \r\n  LayoutDashboard, \r\n  User, \r\n  BarChart3,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Building2,\r\n  Target,\r\n  Swords,\r\n  Users,\r\n  ShoppingBag,\r\n  Trophy,\r\n  Globe,\r\n  Home,\r\n  Car,\r\n  Warehouse,\r\n  TrendingUp,\r\n  Dumbbell,\r\n  Hospital,\r\n  Pill,\r\n  Shirt,\r\n  Plane,\r\n  MapPin,\r\n  UserPlus,\r\n  MessageSquare,\r\n  Mail,\r\n  Shield,\r\n  Zap,\r\n  BookOpen,\r\n  Hammer,\r\n  Factory,\r\n  DollarSign,\r\n  Package,\r\n  Store,\r\n  ChevronDown,\r\n  ChevronRight\r\n} from 'lucide-react'\r\nimport { useState } from 'react'\r\n\r\ninterface NavItem {\r\n  icon: any\r\n  label: string\r\n  href: string\r\n  badge?: string\r\n  locked?: boolean\r\n}\r\n\r\ninterface NavSection {\r\n  title: string\r\n  items: NavItem[]\r\n}\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n  const [expandedSections, setExpandedSections] = useState<string[]>(['MAIN'])\r\n\r\n  const toggleSection = (title: string) => {\r\n    setExpandedSections(prev => \r\n      prev.includes(title) \r\n        ? prev.filter(t => t !== title)\r\n        : [...prev, title]\r\n    )\r\n  }\r\n\r\n  const sections: NavSection[] = [\r\n    {\r\n      title: 'MAIN',\r\n      items: [\r\n        { icon: LayoutDashboard, label: 'Dashboard', href: '/dashboard' },\r\n        { icon: User, label: 'Profile', href: '/dashboard/profile' },\r\n        { icon: BarChart3, label: 'Stats', href: '/dashboard/stats' },\r\n        { icon: Mail, label: 'Messages', href: '/dashboard/messages', badge: '0' },\r\n        { icon: BookOpen, label: 'Events', href: '/dashboard/events' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'CITY',\r\n      items: [\r\n        { icon: MapPin, label: 'City', href: '/dashboard/city' },\r\n        { icon: Home, label: 'Home', href: '/dashboard/home' },\r\n        { icon: Store, label: 'Shops', href: '/dashboard/shops' },\r\n        { icon: Hospital, label: 'Hospital', href: '/dashboard/hospital' },\r\n        { icon: Dumbbell, label: 'Gym', href: '/dashboard/gym' },\r\n        { icon: Pill, label: 'Pharmacy', href: '/dashboard/pharmacy' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'CAREER',\r\n      items: [\r\n        { icon: Briefcase, label: 'Jobs', href: '/dashboard/jobs' },\r\n        { icon: GraduationCap, label: 'Education', href: '/dashboard/education' },\r\n        { icon: Building2, label: 'Properties', href: '/dashboard/properties' },\r\n        { icon: Factory, label: 'Businesses', href: '/dashboard/businesses' },\r\n        { icon: TrendingUp, label: 'Stocks', href: '/dashboard/stocks' },\r\n        { icon: DollarSign, label: 'Bank', href: '/dashboard/bank' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'CRIMINAL',\r\n      items: [\r\n        { icon: Target, label: 'Crimes', href: '/dashboard/crimes' },\r\n        { icon: Swords, label: 'Combat', href: '/dashboard/combat' },\r\n        { icon: Zap, label: 'Organized Crime', href: '/dashboard/organized-crime' },\r\n        { icon: Shield, label: 'Bounties', href: '/dashboard/bounties' },\r\n        { icon: Warehouse, label: 'Heists', href: '/dashboard/heists' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'ITEMS',\r\n      items: [\r\n        { icon: Package, label: 'Inventory', href: '/dashboard/inventory' },\r\n        { icon: Shirt, label: 'Wardrobe', href: '/dashboard/wardrobe' },\r\n        { icon: Car, label: 'Garage', href: '/dashboard/garage' },\r\n        { icon: Hammer, label: 'Weapons', href: '/dashboard/weapons' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'WORLD',\r\n      items: [\r\n        { icon: Car, label: 'Travel', href: '/dashboard/travel' },\r\n        { icon: Plane, label: 'Airport', href: '/dashboard/airport' },\r\n        { icon: Users, label: 'Gang', href: '/dashboard/gang' },\r\n        { icon: UserPlus, label: 'Faction', href: '/dashboard/faction' },\r\n        { icon: MessageSquare, label: 'Forums', href: '/dashboard/forums' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'MARKET',\r\n      items: [\r\n        { icon: ShoppingBag, label: 'Market', href: '/dashboard/market' },\r\n        { icon: TrendingUp, label: 'Trade', href: '/dashboard/trade' },\r\n        { icon: Trophy, label: 'Auction', href: '/dashboard/auction' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'SOCIAL',\r\n      items: [\r\n        { icon: Trophy, label: 'Leaderboard', href: '/dashboard/leaderboard' },\r\n        { icon: Users, label: 'Players', href: '/dashboard/players' },\r\n        { icon: Shield, label: 'Achievements', href: '/dashboard/achievements' },\r\n      ]\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className=\"w-64 bg-[#0f0f0f] border-r border-[#333] h-screen overflow-y-auto\">\r\n      {/* Logo */}\r\n      <div className=\"p-6 border-b border-[#333]\">\r\n        <h1 className=\"text-xl font-bold text-[#fff] uppercase tracking-wider\">\r\n          LIFE EMPIRE\r\n        </h1>\r\n        <p className=\"text-[10px] text-[#888] uppercase tracking-wider mt-1\">\r\n          Build Your Empire\r\n        </p>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"py-4\">\r\n        {sections.map((section) => {\r\n          const isExpanded = expandedSections.includes(section.title)\r\n          \r\n          return (\r\n            <div key={section.title} className=\"mb-2\">\r\n              {/* Section Header */}\r\n              <button\r\n                onClick={() => toggleSection(section.title)}\r\n                className=\"w-full px-6 py-2 flex items-center justify-between hover:bg-[#1a1a1a] transition-colors\"\r\n              >\r\n                <span className=\"text-[10px] font-bold text-[#888] uppercase tracking-wider\">\r\n                  {section.title}\r\n                </span>\r\n                {isExpanded ? (\r\n                  <ChevronDown className=\"w-3 h-3 text-[#888]\" />\r\n                ) : (\r\n                  <ChevronRight className=\"w-3 h-3 text-[#888]\" />\r\n                )}\r\n              </button>\r\n\r\n              {/* Section Items */}\r\n              {isExpanded && (\r\n                <div className=\"mt-1\">\r\n                  {section.items.map((item) => {\r\n                    const Icon = item.icon\r\n                    const isActive = pathname === item.href\r\n                    \r\n                    return (\r\n                      <Link\r\n                        key={item.href}\r\n                        href={item.href}\r\n                        className={`\r\n                          flex items-center gap-3 px-6 py-2.5 transition-colors relative\r\n                          ${isActive \r\n                            ? 'bg-[#1a1a1a] text-[#5cb85c] border-l-2 border-[#5cb85c]' \r\n                            : 'text-[#d0d0d0] hover:bg-[#1a1a1a] hover:text-[#fff] border-l-2 border-transparent'\r\n                          }\r\n                          ${item.locked ? 'opacity-50 cursor-not-allowed' : ''}\r\n                        `}\r\n                      >\r\n                        <Icon className=\"w-4 h-4\" />\r\n                        <span className=\"text-sm flex-1\">{item.label}</span>\r\n                        {item.badge && (\r\n                          <span className=\"text-[10px] bg-[#d9534f] text-white px-1.5 py-0.5 rounded\">\r\n                            {item.badge}\r\n                          </span>\r\n                        )}\r\n                        {item.locked && (\r\n                          <span className=\"text-[10px] text-[#666]\">üîí</span>\r\n                        )}\r\n                      </Link>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","Link","usePathname","LayoutDashboard","User","BarChart3","Briefcase","GraduationCap","Building2","Target","Swords","Users","ShoppingBag","Trophy","Globe","Home","Car","Warehouse","TrendingUp","Dumbbell","Hospital","Pill","Shirt","Plane","MapPin","UserPlus","MessageSquare","Mail","Shield","Zap","BookOpen","Hammer","Factory","DollarSign","Package","Store","ChevronDown","ChevronRight","useState","NavItem","icon","label","href","badge","locked","NavSection","title","items","Sidebar","$","$i","Symbol","for","pathname","t0","expandedSections","setExpandedSections","t1","prev","includes","filter","t","toggleSection","t2","t3","t4","t5","sections","map","section","isExpanded","Sidebar[sections.map() > <button>.onClick]","item","Icon","isActive","t6","t7"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/dashboard/TopBar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useCharacterStore } from '@/lib/character-store'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Power } from 'lucide-react'\r\n\r\nexport function TopBar() {\r\n  const { character, isLoading } = useCharacterStore()\r\n  const [username, setUsername] = useState<string>('Player')\r\n  const supabase = createClient()\r\n  const router = useRouter()\r\n\r\n  useEffect(() => {\r\n    const getUsername = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (user?.user_metadata?.username) {\r\n        setUsername(user.user_metadata.username)\r\n      } else {\r\n        setUsername(user?.email?.split('@')[0] || 'Player')\r\n      }\r\n    }\r\n    \r\n    getUsername()\r\n  }, [supabase])\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut()\r\n    router.push('/login')\r\n  }\r\n\r\n  if (isLoading || !character) {\r\n    return (\r\n      <div className=\"bg-[#0f0f0f] border-b border-[#333] px-6 py-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"h-6 w-32 bg-[#1a1a1a] animate-pulse\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const stats = [\r\n    { \r\n      label: 'CASH', \r\n      value: `$${character.money.toLocaleString()}`, \r\n      color: 'text-success'\r\n    },\r\n    { \r\n      label: 'HP', \r\n      value: `${character.health}/${character.maxHealth}`, \r\n      color: 'text-success',\r\n      percent: (character.health / character.maxHealth) * 100\r\n    },\r\n    { \r\n      label: 'ENERGY', \r\n      value: `${character.energy}/${character.maxEnergy}`, \r\n      color: 'text-warning',\r\n      percent: (character.energy / character.maxEnergy) * 100\r\n    },\r\n    { \r\n      label: 'LVL', \r\n      value: character.level.toString(), \r\n      color: 'text-info'\r\n    },\r\n    { \r\n      label: 'REP', \r\n      value: character.reputation.toString(), \r\n      color: 'text-[#d0d0d0]'\r\n    }\r\n  ]\r\n\r\n  // Get city name and country flag\r\n  const getCityDisplay = () => {\r\n    if (!character.city) {\r\n      return 'NO CITY'\r\n    }\r\n    \r\n    const countryFlags: Record<string, string> = {\r\n      'USA': 'üá∫üá∏',\r\n      'UK': 'üá¨üáß',\r\n      'Japan': 'üáØüáµ'\r\n    }\r\n    \r\n    const flag = countryFlags[character.city.country] || 'üåç'\r\n    return `${flag} ${character.city.name}`\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-[#0f0f0f] border-b border-[#333] px-6 py-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        {/* Stats */}\r\n        <div className=\"flex items-center gap-8\">\r\n          {stats.map((stat, index) => (\r\n            <div key={index} className=\"flex items-center gap-2\">\r\n              <div>\r\n                <p className=\"text-[10px] text-[#888] uppercase tracking-wider leading-tight\">\r\n                  {stat.label}\r\n                </p>\r\n                <p className={`text-sm font-bold ${stat.color}`}>\r\n                  {stat.value}\r\n                </p>\r\n                {stat.percent !== undefined && (\r\n                  <div className=\"w-16 h-[2px] bg-[#2a2a2a] mt-1\">\r\n                    <div \r\n                      className={`h-full ${stat.color === 'text-success' ? 'bg-[#5cb85c]' : 'bg-[#f0ad4e]'}`}\r\n                      style={{ width: `${stat.percent}%` }}\r\n                    />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* User Info */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"text-right\">\r\n            <p className=\"text-sm font-bold text-[#fff] uppercase tracking-wider\">\r\n              {username}\r\n            </p>\r\n            <p className=\"text-[10px] text-[#888] uppercase tracking-wider\">\r\n              {getCityDisplay()}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"p-2 bg-[#1a1a1a] border border-[#333] hover:border-[#d9534f] hover:bg-[#d9534f]/10 transition-colors\"\r\n            title=\"Logout\"\r\n          >\r\n            <Power className=\"w-4 h-4 text-[#d9534f]\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","useEffect","useState","useCharacterStore","createClient","useRouter","Power","TopBar","$","$i","Symbol","for","character","isLoading","username","setUsername","t0","supabase","router","t1","t2","TopBar[useEffect()]","getUsername","TopBar[useEffect() > getUsername]","data","t3","auth","getUser","user","user_metadata","email","split","TopBar[handleLogout]","signOut","push","handleLogout","t4","money","toLocaleString","t5","t6","label","value","color","t7","health","maxHealth","t8","t9","percent","t10","energy","maxEnergy","t11","t12","t13","level","toString","t14","t15","reputation","t16","t17","stats","t18","city","TopBar[getCityDisplay]","countryFlags","flag","country","name","getCityDisplay","t19","map","_TopBarStatsMap","t20","t21","t22","t23","t24","t25","t26","t27","stat","index","undefined","width"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1132, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/app/dashboard/layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useCharacterStore } from '@/lib/character-store'\r\nimport { Sidebar } from '@/components/dashboard/Sidebar'\r\nimport { TopBar } from '@/components/dashboard/TopBar'\r\nimport type { User } from '@supabase/supabase-js'\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n  const { fetchCharacter, character } = useCharacterStore()\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n\r\n    const checkAuth = async () => {\r\n      try {\r\n        const { data: { user } } = await supabase.auth.getUser()\r\n        \r\n        if (!mounted) return\r\n        \r\n        if (!user) {\r\n          router.push('/login')\r\n          return\r\n        }\r\n\r\n        setUser(user)\r\n\r\n        // Fetch character tylko raz\r\n        if (!character) {\r\n          await fetchCharacter()\r\n          \r\n          // Check if character was created\r\n          setTimeout(async () => {\r\n            if (!mounted) return\r\n            \r\n            const currentState = useCharacterStore.getState()\r\n            \r\n            if (!currentState.character) {\r\n              console.log('üéÆ Creating new character...')\r\n              \r\n              const response = await fetch('/api/character', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                  userId: user.id,\r\n                  name: 'Player'\r\n                })\r\n              })\r\n\r\n              if (response.ok) {\r\n                await fetchCharacter()\r\n              }\r\n            }\r\n            \r\n            if (mounted) {\r\n              setIsLoading(false)\r\n            }\r\n          }, 500)\r\n        } else {\r\n          setIsLoading(false)\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth error:', error)\r\n        if (mounted) {\r\n          setIsLoading(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    checkAuth()\r\n\r\n    // Auth state listener\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        if (!mounted) return\r\n        \r\n        if (event === 'SIGNED_OUT') {\r\n          router.push('/login')\r\n        } else if (event === 'SIGNED_IN' && session?.user) {\r\n          setUser(session.user)\r\n        }\r\n      }\r\n    )\r\n\r\n    return () => {\r\n      mounted = false\r\n      subscription.unsubscribe()\r\n    }\r\n  }, []) // TYLKO PUSTY ARRAY!\r\n\r\n  if (isLoading || !user) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-slate-950\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-500 border-r-transparent mb-4\"></div>\r\n          <p className=\"text-slate-400\">Loading your empire...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!character) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-slate-950\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-500 border-r-transparent mb-4\"></div>\r\n          <p className=\"text-slate-400\">Setting up your character...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-slate-950\">\r\n      <Sidebar />\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        <TopBar />\r\n        <main className=\"flex-1 overflow-y-auto bg-slate-900 p-6\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","useEffect","useState","createClient","useRouter","useCharacterStore","Sidebar","TopBar","User","DashboardLayout","t0","$","$i","Symbol","for","children","user","setUser","isLoading","setIsLoading","router","t1","supabase","fetchCharacter","character","t2","DashboardLayout[useEffect()]","mounted","checkAuth","DashboardLayout[useEffect() > checkAuth]","data","t4","auth","getUser","user_0","push","setTimeout","DashboardLayout[useEffect() > checkAuth > setTimeout()]","currentState","getState","console","log","response","fetch","method","headers","body","JSON","stringify","userId","id","name","ok","t3","error","t5","onAuthStateChange","DashboardLayout[useEffect() > supabase.auth.onAuthStateChange()]","event","session","subscription","unsubscribe","t6"],"mappings":"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","ignoreList":[],"debugId":null}}]
}