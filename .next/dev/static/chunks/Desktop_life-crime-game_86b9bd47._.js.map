{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/lib/supabase/client.ts"],"sourcesContent":["// lib/supabase/client.ts\r\nimport { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  )\r\n}"],"names":[],"mappings":"AAAA,yBAAyB;;;;;AAKrB;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,qVAAmB;AAI5B","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/lib/character-store.ts"],"sourcesContent":["'use client'\r\n\r\nimport { create } from 'zustand'\r\n\r\nexport interface Character {\r\n  id: string\r\n  userId: string\r\n  cityId: string | null\r\n  city?: {\r\n    id: string\r\n    name: string\r\n    country: string\r\n    description: string\r\n    incomeBonus: number      // DODAJ\r\n    crimeBonus: number       // DODAJ\r\n    trainingBonus: number    // DODAJ\r\n    businessBonus: number    // DODAJ\r\n    minLevel: number         // DODAJ\r\n    requiresCar: boolean     // DODAJ\r\n    requiresPlane: boolean   // DODAJ\r\n  } | null\r\n  \r\n  money: number\r\n  energy: number\r\n  maxEnergy: number\r\n  health: number\r\n  maxHealth: number\r\n  \r\n  level: number\r\n  xp: number\r\n  xpNeeded: number\r\n  age: number\r\n  ageInDays: number\r\n  \r\n  reputation: number\r\n  rank: number\r\n  \r\n  education: string | null\r\n  job: string | null\r\n  jobTitle: string | null\r\n  salary: number\r\n  \r\n  strength: number\r\n  defense: number\r\n  speed: number\r\n  dexterity: number\r\n  \r\n  crimesCommitted: number\r\n  jailTime: number\r\n  criminalReputation: number\r\n  \r\n  hasDriverLicense: boolean\r\n  hasCar: boolean\r\n  hasPlane: boolean\r\n  \r\n  lastEnergyRegen: Date\r\n  lastHealthRegen: Date\r\n  lastAgeIncrement: Date\r\n  createdAt: Date\r\n  updatedAt: Date\r\n}\r\n\r\ninterface CharacterState {\r\n  character: Character | null\r\n  isLoading: boolean\r\n  error: string | null\r\n  \r\n  // Actions\r\n  fetchCharacter: () => Promise<void>\r\n  updateCharacter: (updates: Partial<Character>) => void\r\n  refreshCharacter: () => Promise<void>\r\n  createCharacter: (userId: string, name: string) => Promise<void>\r\n}\r\n\r\nexport const useCharacterStore = create<CharacterState>((set, get) => ({\r\n  character: null,\r\n  isLoading: false,\r\n  error: null,\r\n\r\n  fetchCharacter: async () => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      // Dynamic import to avoid circular dependency\r\n      const { createClient } = await import('@/lib/supabase/client')\r\n      const supabase = createClient()\r\n      \r\n      // Get authenticated user\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (!user) {\r\n        console.error('❌ No user authenticated')\r\n        set({ isLoading: false, error: 'Not authenticated' })\r\n        return\r\n      }\r\n\r\n      console.log('🔍 Fetching character for userId:', user.id)\r\n\r\n      const response = await fetch(`/api/character?userId=${user.id}`)\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch character: ${response.statusText}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      \r\n      if (!data.character) {\r\n        console.log('⚠️ No character found, needs to be created')\r\n        set({ isLoading: false, error: 'No character found' })\r\n        return\r\n      }\r\n\r\n      const character = data.character\r\n      \r\n      // Convert date strings to Date objects\r\n      character.lastEnergyRegen = new Date(character.lastEnergyRegen)\r\n      character.lastHealthRegen = new Date(character.lastHealthRegen)\r\n      character.lastAgeIncrement = new Date(character.lastAgeIncrement)\r\n      character.createdAt = new Date(character.createdAt)\r\n      character.updatedAt = new Date(character.updatedAt)\r\n      \r\n      console.log('✅ Character fetched:', character)\r\n      \r\n      set({ character, isLoading: false, error: null })\r\n    } catch (error) {\r\n      console.error('❌ Failed to fetch character:', error)\r\n      set({ \r\n        isLoading: false,\r\n        error: error instanceof Error ? error.message : 'Failed to fetch character'\r\n      })\r\n    }\r\n  },\r\n\r\n  createCharacter: async (userId: string, name: string) => {\r\n    try {\r\n      set({ isLoading: true, error: null })\r\n      \r\n      console.log('🎮 Creating character:', { userId, name })\r\n\r\n      const response = await fetch('/api/character', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ userId, name })\r\n      })\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to create character: ${response.statusText}`)\r\n      }\r\n\r\n      const data = await response.json()\r\n      const character = data.character\r\n      \r\n      // Convert date strings to Date objects\r\n      character.lastEnergyRegen = new Date(character.lastEnergyRegen)\r\n      character.lastHealthRegen = new Date(character.lastHealthRegen)\r\n      character.lastAgeIncrement = new Date(character.lastAgeIncrement)\r\n      character.createdAt = new Date(character.createdAt)\r\n      character.updatedAt = new Date(character.updatedAt)\r\n      \r\n      console.log('✅ Character created:', character)\r\n      \r\n      set({ character, isLoading: false, error: null })\r\n    } catch (error) {\r\n      console.error('❌ Failed to create character:', error)\r\n      set({ \r\n        isLoading: false,\r\n        error: error instanceof Error ? error.message : 'Failed to create character'\r\n      })\r\n    }\r\n  },\r\n\r\n  updateCharacter: (updates) => {\r\n    set((state) => ({\r\n      character: state.character ? { ...state.character, ...updates } : null\r\n    }))\r\n  },\r\n\r\n  refreshCharacter: async () => {\r\n    await get().fetchCharacter()\r\n  },\r\n}))"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/dashboard/Sidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { \r\n  LayoutDashboard, \r\n  User, \r\n  BarChart3,\r\n  Briefcase,\r\n  GraduationCap,\r\n  Building2,\r\n  Target,\r\n  Swords,\r\n  Users,\r\n  ShoppingBag,\r\n  Trophy,\r\n  Globe,\r\n  Home,\r\n  Car,\r\n  Warehouse,\r\n  TrendingUp,\r\n  Dumbbell,\r\n  Hospital,\r\n  Pill,\r\n  Shirt,\r\n  Plane,\r\n  MapPin,\r\n  UserPlus,\r\n  MessageSquare,\r\n  Mail,\r\n  Shield,\r\n  Zap,\r\n  BookOpen,\r\n  Hammer,\r\n  Factory,\r\n  DollarSign,\r\n  Package,\r\n  Store,\r\n  ChevronDown,\r\n  ChevronRight\r\n} from 'lucide-react'\r\nimport { useState } from 'react'\r\n\r\ninterface NavItem {\r\n  icon: any\r\n  label: string\r\n  href: string\r\n  badge?: string\r\n  locked?: boolean\r\n}\r\n\r\ninterface NavSection {\r\n  title: string\r\n  items: NavItem[]\r\n}\r\n\r\nexport function Sidebar() {\r\n  const pathname = usePathname()\r\n  const [expandedSections, setExpandedSections] = useState<string[]>(['MAIN'])\r\n\r\n  const toggleSection = (title: string) => {\r\n    setExpandedSections(prev => \r\n      prev.includes(title) \r\n        ? prev.filter(t => t !== title)\r\n        : [...prev, title]\r\n    )\r\n  }\r\n\r\n  const sections: NavSection[] = [\r\n    {\r\n      title: 'MAIN',\r\n      items: [\r\n        { icon: LayoutDashboard, label: 'Dashboard', href: '/dashboard' },\r\n        { icon: User, label: 'Profile', href: '/dashboard/profile' },\r\n        { icon: BarChart3, label: 'Stats', href: '/dashboard/stats' },\r\n        { icon: Mail, label: 'Messages', href: '/dashboard/messages', badge: '0' },\r\n        { icon: BookOpen, label: 'Events', href: '/dashboard/events' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'CITY',\r\n      items: [\r\n        { icon: MapPin, label: 'City', href: '/dashboard/city' },\r\n        { icon: Home, label: 'Home', href: '/dashboard/home' },\r\n        { icon: Store, label: 'Shops', href: '/dashboard/shops' },\r\n        { icon: Hospital, label: 'Hospital', href: '/dashboard/hospital' },\r\n        { icon: Dumbbell, label: 'Gym', href: '/dashboard/gym' },\r\n        { icon: Pill, label: 'Pharmacy', href: '/dashboard/pharmacy' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'CAREER',\r\n      items: [\r\n        { icon: Briefcase, label: 'Jobs', href: '/dashboard/jobs' },\r\n        { icon: GraduationCap, label: 'Education', href: '/dashboard/education' },\r\n        { icon: Building2, label: 'Properties', href: '/dashboard/properties' },\r\n        { icon: Factory, label: 'Businesses', href: '/dashboard/businesses' },\r\n        { icon: TrendingUp, label: 'Stocks', href: '/dashboard/stocks' },\r\n        { icon: DollarSign, label: 'Bank', href: '/dashboard/bank' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'CRIMINAL',\r\n      items: [\r\n        { icon: Target, label: 'Crimes', href: '/dashboard/crimes' },\r\n        { icon: Swords, label: 'Combat', href: '/dashboard/combat' },\r\n        { icon: Zap, label: 'Organized Crime', href: '/dashboard/organized-crime' },\r\n        { icon: Shield, label: 'Bounties', href: '/dashboard/bounties' },\r\n        { icon: Warehouse, label: 'Heists', href: '/dashboard/heists' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'ITEMS',\r\n      items: [\r\n        { icon: Package, label: 'Inventory', href: '/dashboard/inventory' },\r\n        { icon: Shirt, label: 'Wardrobe', href: '/dashboard/wardrobe' },\r\n        { icon: Car, label: 'Garage', href: '/dashboard/garage' },\r\n        { icon: Hammer, label: 'Weapons', href: '/dashboard/weapons' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'WORLD',\r\n      items: [\r\n        { icon: Car, label: 'Travel', href: '/dashboard/travel' },\r\n        { icon: Plane, label: 'Airport', href: '/dashboard/airport' },\r\n        { icon: Users, label: 'Gang', href: '/dashboard/gang' },\r\n        { icon: UserPlus, label: 'Faction', href: '/dashboard/faction' },\r\n        { icon: MessageSquare, label: 'Forums', href: '/dashboard/forums' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'MARKET',\r\n      items: [\r\n        { icon: ShoppingBag, label: 'Market', href: '/dashboard/market' },\r\n        { icon: TrendingUp, label: 'Trade', href: '/dashboard/trade' },\r\n        { icon: Trophy, label: 'Auction', href: '/dashboard/auction' },\r\n      ]\r\n    },\r\n    {\r\n      title: 'SOCIAL',\r\n      items: [\r\n        { icon: Trophy, label: 'Leaderboard', href: '/dashboard/leaderboard' },\r\n        { icon: Users, label: 'Players', href: '/dashboard/players' },\r\n        { icon: Shield, label: 'Achievements', href: '/dashboard/achievements' },\r\n      ]\r\n    }\r\n  ]\r\n\r\n  return (\r\n    <div className=\"w-64 bg-[#0f0f0f] border-r border-[#333] h-screen overflow-y-auto\">\r\n      {/* Logo */}\r\n      <div className=\"p-6 border-b border-[#333]\">\r\n        <h1 className=\"text-xl font-bold text-[#fff] uppercase tracking-wider\">\r\n          LIFE EMPIRE\r\n        </h1>\r\n        <p className=\"text-[10px] text-[#888] uppercase tracking-wider mt-1\">\r\n          Build Your Empire\r\n        </p>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"py-4\">\r\n        {sections.map((section) => {\r\n          const isExpanded = expandedSections.includes(section.title)\r\n          \r\n          return (\r\n            <div key={section.title} className=\"mb-2\">\r\n              {/* Section Header */}\r\n              <button\r\n                onClick={() => toggleSection(section.title)}\r\n                className=\"w-full px-6 py-2 flex items-center justify-between hover:bg-[#1a1a1a] transition-colors\"\r\n              >\r\n                <span className=\"text-[10px] font-bold text-[#888] uppercase tracking-wider\">\r\n                  {section.title}\r\n                </span>\r\n                {isExpanded ? (\r\n                  <ChevronDown className=\"w-3 h-3 text-[#888]\" />\r\n                ) : (\r\n                  <ChevronRight className=\"w-3 h-3 text-[#888]\" />\r\n                )}\r\n              </button>\r\n\r\n              {/* Section Items */}\r\n              {isExpanded && (\r\n                <div className=\"mt-1\">\r\n                  {section.items.map((item) => {\r\n                    const Icon = item.icon\r\n                    const isActive = pathname === item.href\r\n                    \r\n                    return (\r\n                      <Link\r\n                        key={item.href}\r\n                        href={item.href}\r\n                        className={`\r\n                          flex items-center gap-3 px-6 py-2.5 transition-colors relative\r\n                          ${isActive \r\n                            ? 'bg-[#1a1a1a] text-[#5cb85c] border-l-2 border-[#5cb85c]' \r\n                            : 'text-[#d0d0d0] hover:bg-[#1a1a1a] hover:text-[#fff] border-l-2 border-transparent'\r\n                          }\r\n                          ${item.locked ? 'opacity-50 cursor-not-allowed' : ''}\r\n                        `}\r\n                      >\r\n                        <Icon className=\"w-4 h-4\" />\r\n                        <span className=\"text-sm flex-1\">{item.label}</span>\r\n                        {item.badge && (\r\n                          <span className=\"text-[10px] bg-[#d9534f] text-white px-1.5 py-0.5 rounded\">\r\n                            {item.badge}\r\n                          </span>\r\n                        )}\r\n                        {item.locked && (\r\n                          <span className=\"text-[10px] text-[#666]\">🔒</span>\r\n                        )}\r\n                      </Link>\r\n                    )\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","Link","usePathname","LayoutDashboard","User","BarChart3","Briefcase","GraduationCap","Building2","Target","Swords","Users","ShoppingBag","Trophy","Globe","Home","Car","Warehouse","TrendingUp","Dumbbell","Hospital","Pill","Shirt","Plane","MapPin","UserPlus","MessageSquare","Mail","Shield","Zap","BookOpen","Hammer","Factory","DollarSign","Package","Store","ChevronDown","ChevronRight","useState","NavItem","icon","label","href","badge","locked","NavSection","title","items","Sidebar","$","$i","Symbol","for","pathname","t0","expandedSections","setExpandedSections","t1","prev","includes","filter","t","toggleSection","t2","t3","t4","t5","sections","map","section","isExpanded","Sidebar[sections.map() > <button>.onClick]","item","Icon","isActive","t6","t7"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 677, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/dashboard/TopBar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { useCharacterStore } from '@/lib/character-store'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { Power, Crown, Zap, Heart, DollarSign, TrendingUp } from 'lucide-react'\r\n\r\nexport function TopBar() {\r\n  const { character, isLoading } = useCharacterStore()\r\n  const [username, setUsername] = useState<string>('Player')\r\n  const supabase = createClient()\r\n  const router = useRouter()\r\n\r\n  useEffect(() => {\r\n    const getUsername = async () => {\r\n      const { data: { user } } = await supabase.auth.getUser()\r\n      \r\n      if (user?.user_metadata?.username) {\r\n        setUsername(user.user_metadata.username)\r\n      } else {\r\n        setUsername(user?.email?.split('@')[0] || 'Player')\r\n      }\r\n    }\r\n    \r\n    getUsername()\r\n  }, [supabase])\r\n\r\n  const handleLogout = async () => {\r\n    await supabase.auth.signOut()\r\n    router.push('/login')\r\n  }\r\n\r\n  if (isLoading || !character) {\r\n    return (\r\n      <div className=\"bg-[#0f0f0f] border-b border-[#333] px-4 md:px-6 py-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"h-10 w-48 bg-[#1a1a1a] animate-pulse rounded\"></div>\r\n          <div className=\"h-10 w-64 bg-[#1a1a1a] animate-pulse rounded\"></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Get city name and country flag\r\n  const getCityDisplay = () => {\r\n    if (!character.city) {\r\n      return { flag: '🌍', name: 'No City' }\r\n    }\r\n    \r\n    const countryFlags: Record<string, string> = {\r\n      'USA': '🇺🇸',\r\n      'UK': '🇬🇧',\r\n      'Japan': '🇯🇵'\r\n    }\r\n    \r\n    const flag = countryFlags[character.city.country] || '🌍'\r\n    return { flag, name: character.city.name }\r\n  }\r\n\r\n  const city = getCityDisplay()\r\n  const healthPercent = (character.health / character.maxHealth) * 100\r\n  const energyPercent = (character.energy / character.maxEnergy) * 100\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-r from-[#0f0f0f] via-[#1a1a1a] to-[#0f0f0f] border-b border-[#333] shadow-lg\">\r\n      <div className=\"px-4 md:px-6 py-3\">\r\n        <div className=\"flex items-center justify-between gap-4 flex-wrap lg:flex-nowrap\">\r\n          {/* Left: User Info */}\r\n          <div className=\"flex items-center gap-3\">\r\n            {/* Avatar with Level Badge */}\r\n            <div className=\"relative\">\r\n              <div className=\"w-12 h-12 rounded-full bg-gradient-to-br from-[#5cb85c] to-[#4a9d4a] flex items-center justify-center border-2 border-[#5cb85c] shadow-lg shadow-[#5cb85c]/20\">\r\n                <Crown className=\"w-6 h-6 text-white\" />\r\n              </div>\r\n              {/* Level Badge */}\r\n              <div className=\"absolute -bottom-1 -right-1 w-6 h-6 rounded-full bg-[#f0ad4e] border-2 border-[#0f0f0f] flex items-center justify-center\">\r\n                <span className=\"text-[10px] font-bold text-white\">{character.level}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Username & Location */}\r\n            <div>\r\n              <p className=\"text-base font-bold text-[#fff] uppercase tracking-wider leading-tight\">\r\n                {username}\r\n              </p>\r\n              <p className=\"text-[10px] text-[#888] uppercase tracking-wider flex items-center gap-1\">\r\n                <span>{city.flag}</span>\r\n                <span>{city.name}</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Center: Stats */}\r\n          <div className=\"flex items-center gap-4 lg:gap-6 flex-wrap lg:flex-nowrap\">\r\n            {/* Cash */}\r\n            <div className=\"flex items-center gap-2 bg-[#1a1a1a] border border-[#333] px-3 py-2 rounded\">\r\n              <DollarSign className=\"w-4 h-4 text-[#5cb85c]\" />\r\n              <div>\r\n                <p className=\"text-[9px] text-[#888] uppercase tracking-wider leading-tight\">Cash</p>\r\n                <p className=\"text-sm font-bold text-[#5cb85c]\">\r\n                  ${character.money.toLocaleString()}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Health */}\r\n            <div className=\"flex items-center gap-2 bg-[#1a1a1a] border border-[#333] px-3 py-2 rounded min-w-[120px]\">\r\n              <Heart className=\"w-4 h-4 text-[#d9534f]\" />\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <p className=\"text-[9px] text-[#888] uppercase tracking-wider\">Health</p>\r\n                  <span className=\"text-[10px] font-bold text-[#d9534f]\">\r\n                    {character.health}/{character.maxHealth}\r\n                  </span>\r\n                </div>\r\n                <div className=\"w-full h-1.5 bg-[#2a2a2a] rounded-full overflow-hidden\">\r\n                  <div \r\n                    className=\"h-full bg-gradient-to-r from-[#d9534f] to-[#c9302c] transition-all duration-300\"\r\n                    style={{ width: `${healthPercent}%` }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Energy */}\r\n            <div className=\"flex items-center gap-2 bg-[#1a1a1a] border border-[#333] px-3 py-2 rounded min-w-[120px]\">\r\n              <Zap className=\"w-4 h-4 text-[#f0ad4e]\" />\r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center justify-between mb-1\">\r\n                  <p className=\"text-[9px] text-[#888] uppercase tracking-wider\">Energy</p>\r\n                  <span className=\"text-[10px] font-bold text-[#f0ad4e]\">\r\n                    {character.energy}/{character.maxEnergy}\r\n                  </span>\r\n                </div>\r\n                <div className=\"w-full h-1.5 bg-[#2a2a2a] rounded-full overflow-hidden\">\r\n                  <div \r\n                    className=\"h-full bg-gradient-to-r from-[#f0ad4e] to-[#ec971f] transition-all duration-300\"\r\n                    style={{ width: `${energyPercent}%` }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Reputation */}\r\n            <div className=\"flex items-center gap-2 bg-[#1a1a1a] border border-[#333] px-3 py-2 rounded\">\r\n              <TrendingUp className=\"w-4 h-4 text-[#5bc0de]\" />\r\n              <div>\r\n                <p className=\"text-[9px] text-[#888] uppercase tracking-wider leading-tight\">Rep</p>\r\n                <p className=\"text-sm font-bold text-[#5bc0de]\">\r\n                  {character.reputation.toLocaleString()}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right: Logout */}\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"p-2.5 bg-[#1a1a1a] border border-[#333] hover:border-[#d9534f] hover:bg-[#d9534f]/10 transition-all rounded group ml-auto\"\r\n            title=\"Logout\"\r\n          >\r\n            <Power className=\"w-5 h-5 text-[#d9534f] group-hover:scale-110 transition-transform\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile Stats - Compact Version */}\r\n      <div className=\"lg:hidden border-t border-[#333] px-4 py-2 bg-[#0f0f0f]\">\r\n        <div className=\"grid grid-cols-2 gap-2\">\r\n          {/* Cash & Rep */}\r\n          <div className=\"flex items-center gap-2 bg-[#1a1a1a] px-2 py-1.5 rounded text-xs\">\r\n            <DollarSign className=\"w-3 h-3 text-[#5cb85c]\" />\r\n            <span className=\"text-[#5cb85c] font-bold\">${character.money.toLocaleString()}</span>\r\n            <span className=\"text-[#666] mx-1\">•</span>\r\n            <TrendingUp className=\"w-3 h-3 text-[#5bc0de]\" />\r\n            <span className=\"text-[#5bc0de] font-bold\">{character.reputation}</span>\r\n          </div>\r\n\r\n          {/* Level Badge */}\r\n          <div className=\"flex items-center justify-center gap-2 bg-[#1a1a1a] px-2 py-1.5 rounded\">\r\n            <Crown className=\"w-3 h-3 text-[#f0ad4e]\" />\r\n            <span className=\"text-[10px] text-[#888] uppercase\">Level</span>\r\n            <span className=\"text-xs font-bold text-[#f0ad4e]\">{character.level}</span>\r\n          </div>\r\n\r\n          {/* Health Bar */}\r\n          <div className=\"bg-[#1a1a1a] px-2 py-1.5 rounded\">\r\n            <div className=\"flex items-center justify-between mb-1\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <Heart className=\"w-3 h-3 text-[#d9534f]\" />\r\n                <span className=\"text-[9px] text-[#888] uppercase\">HP</span>\r\n              </div>\r\n              <span className=\"text-[9px] font-bold text-[#d9534f]\">\r\n                {character.health}/{character.maxHealth}\r\n              </span>\r\n            </div>\r\n            <div className=\"h-1.5 bg-[#2a2a2a] rounded-full overflow-hidden\">\r\n              <div \r\n                className=\"h-full bg-[#d9534f]\"\r\n                style={{ width: `${healthPercent}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Energy Bar */}\r\n          <div className=\"bg-[#1a1a1a] px-2 py-1.5 rounded\">\r\n            <div className=\"flex items-center justify-between mb-1\">\r\n              <div className=\"flex items-center gap-1\">\r\n                <Zap className=\"w-3 h-3 text-[#f0ad4e]\" />\r\n                <span className=\"text-[9px] text-[#888] uppercase\">Energy</span>\r\n              </div>\r\n              <span className=\"text-[9px] font-bold text-[#f0ad4e]\">\r\n                {character.energy}/{character.maxEnergy}\r\n              </span>\r\n            </div>\r\n            <div className=\"h-1.5 bg-[#2a2a2a] rounded-full overflow-hidden\">\r\n              <div \r\n                className=\"h-full bg-[#f0ad4e]\"\r\n                style={{ width: `${energyPercent}%` }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","useEffect","useState","useCharacterStore","createClient","useRouter","Power","Crown","Zap","Heart","DollarSign","TrendingUp","TopBar","$","$i","Symbol","for","character","isLoading","username","setUsername","t0","supabase","router","t1","t2","TopBar[useEffect()]","getUsername","TopBar[useEffect() > getUsername]","data","t3","auth","getUser","user","user_metadata","email","split","TopBar[handleLogout]","signOut","push","handleLogout","t4","city","getCityDisplay","TopBar[getCityDisplay]","flag","name","countryFlags","country","healthPercent","health","maxHealth","energyPercent","energy","maxEnergy","t5","t6","level","t7","t8","t9","t10","t11","t12","t13","t14","t15","money","toLocaleString","t16","t17","t18","t19","t20","t21","width","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","reputation","t32","t33","t34","t35","t36","t37","t38","t39","t40","t41","t42","t43","t44","t45","t46","t47","t48","t49","t50","t51","t52","t53","t54","t55","t56","t57","t58"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1849, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/ui/Avatar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Crown, Skull, Flame, Star, Diamond, Rocket, Bot, Swords, Ship, Users } from 'lucide-react'\r\nimport Image from 'next/image'\r\n\r\ninterface AvatarProps {\r\n  icon: string\r\n  customUrl?: string | null\r\n  size?: 'sm' | 'md' | 'lg' | 'xl'\r\n  className?: string\r\n}\r\n\r\nexport function Avatar({ icon, customUrl, size = 'md', className = '' }: AvatarProps) {\r\n  const icons: Record<string, any> = {\r\n    crown: Crown,\r\n    skull: Skull,\r\n    fire: Flame,\r\n    star: Star,\r\n    diamond: Diamond,\r\n    rocket: Rocket,\r\n    robot: Bot,\r\n    ninja: Swords,\r\n    pirate: Ship,\r\n    alien: Users\r\n  }\r\n\r\n  const sizes = {\r\n    sm: { container: 'w-8 h-8', icon: 'w-4 h-4' },\r\n    md: { container: 'w-12 h-12', icon: 'w-6 h-6' },\r\n    lg: { container: 'w-16 h-16', icon: 'w-8 h-8' },\r\n    xl: { container: 'w-24 h-24', icon: 'w-12 h-12' }\r\n  }\r\n\r\n  // Custom avatar\r\n  if (icon === 'custom' && customUrl) {\r\n    return (\r\n      <div className={`${sizes[size].container} rounded-full overflow-hidden border-2 border-[#5cb85c] shadow-lg ${className}`}>\r\n        <Image \r\n          src={customUrl} \r\n          alt=\"Avatar\" \r\n          width={parseInt(sizes[size].container.split('w-')[1]?.split(' ')[0] || '12') * 4}\r\n          height={parseInt(sizes[size].container.split('w-')[1]?.split(' ')[0] || '12') * 4}\r\n          className=\"w-full h-full object-cover\"\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Icon avatar\r\n  const Icon = icons[icon] || Crown\r\n\r\n  return (\r\n    <div className={`${sizes[size].container} rounded-full bg-gradient-to-br from-[#5cb85c] to-[#4a9d4a] flex items-center justify-center border-2 border-[#5cb85c] shadow-lg ${className}`}>\r\n      <Icon className={`${sizes[size].icon} text-white`} />\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","Crown","Skull","Flame","Star","Diamond","Rocket","Bot","Swords","Ship","Users","Image","AvatarProps","icon","customUrl","size","className","Avatar","t0","$","$i","Symbol","for","t1","t2","undefined","t3","crown","skull","fire","star","diamond","rocket","robot","ninja","pirate","alien","icons","sizes","t4","bb0","sm","container","md","lg","xl","t5","t6","parseInt","split","t7","t8","t9","Icon"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2027, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/dashboard/FloatingChat.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { MessageSquare, X, Minus } from 'lucide-react'\r\nimport { Avatar } from '@/components/ui/Avatar'\r\n\r\ninterface ChatMessage {\r\n  id: string\r\n  username: string\r\n  avatar: string\r\n  message: string\r\n  createdAt: string\r\n}\r\n\r\nexport function FloatingChat() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isMinimized, setIsMinimized] = useState(false)\r\n  const [messages, setMessages] = useState<ChatMessage[]>([])\r\n  const [newMessage, setNewMessage] = useState('')\r\n  const [username, setUsername] = useState('Player')\r\n  const supabase = createClient()\r\n\r\n  useEffect(() => {\r\n    loadUsername()\r\n    if (isOpen && !isMinimized) {\r\n      loadChat()\r\n      const interval = setInterval(loadChat, 3000)\r\n      return () => clearInterval(interval)\r\n    }\r\n  }, [isOpen, isMinimized])\r\n\r\n  const loadUsername = async () => {\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n    if (user?.user_metadata?.username) {\r\n      setUsername(user.user_metadata.username)\r\n    } else {\r\n      setUsername(user?.email?.split('@')[0] || 'Player')\r\n    }\r\n  }\r\n\r\n  const loadChat = async () => {\r\n    try {\r\n      const response = await fetch('/api/chat')\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setMessages(data.messages)\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load chat:', error)\r\n    }\r\n  }\r\n\r\n  const sendMessage = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    if (!newMessage.trim()) return\r\n\r\n    try {\r\n      const response = await fetch('/api/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ message: newMessage })\r\n      })\r\n\r\n      if (response.ok) {\r\n        setNewMessage('')\r\n        loadChat()\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to send message:', error)\r\n    }\r\n  }\r\n\r\n  const formatTime = (timestamp: string) => {\r\n    const now = new Date()\r\n    const eventTime = new Date(timestamp)\r\n    const diffMs = now.getTime() - eventTime.getTime()\r\n    const diffMins = Math.floor(diffMs / 60000)\r\n    \r\n    if (diffMins < 1) return 'now'\r\n    if (diffMins < 60) return `${diffMins}m`\r\n    const diffHours = Math.floor(diffMins / 60)\r\n    if (diffHours < 24) return `${diffHours}h`\r\n    return `${Math.floor(diffHours / 24)}d`\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Button */}\r\n      {!isOpen && (\r\n        <button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"fixed bottom-6 right-6 z-50 p-4 bg-[#5cb85c] hover:bg-[#4a9d4a] text-white rounded-full shadow-lg transition-all hover:scale-110\"\r\n        >\r\n          <MessageSquare className=\"w-6 h-6\" />\r\n          {messages.length > 0 && (\r\n            <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-[#d9534f] rounded-full text-[10px] font-bold flex items-center justify-center\">\r\n              {messages.length > 99 ? '99+' : messages.length}\r\n            </span>\r\n          )}\r\n        </button>\r\n      )}\r\n\r\n      {/* Chat Window */}\r\n      {isOpen && (\r\n        <div className={`fixed bottom-6 right-6 z-50 w-full md:w-96 ${isMinimized ? 'h-14' : 'h-[500px]'} bg-[#0f0f0f] border border-[#333] shadow-2xl flex flex-col transition-all rounded-lg overflow-hidden`}>\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-3 bg-[#1a1a1a] border-b border-[#333]\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <MessageSquare className=\"w-4 h-4 text-success\" />\r\n              <span className=\"text-sm font-bold text-[#fff] uppercase tracking-wider\">\r\n                Global Chat\r\n              </span>\r\n              <span className=\"text-[10px] text-success\">● {messages.length}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setIsMinimized(!isMinimized)}\r\n                className=\"p-1 hover:bg-[#2a2a2a] rounded transition-colors\"\r\n              >\r\n                <Minus className=\"w-4 h-4 text-[#888]\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"p-1 hover:bg-[#2a2a2a] rounded transition-colors\"\r\n              >\r\n                <X className=\"w-4 h-4 text-[#888]\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          {!isMinimized && (\r\n            <>\r\n              <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\r\n                {messages.length === 0 ? (\r\n                  <p className=\"text-[#888] text-xs text-center py-8\">\r\n                    💬 No messages yet. Start chatting!\r\n                  </p>\r\n                ) : (\r\n                  messages.map((msg) => (\r\n                    <div\r\n                      key={msg.id}\r\n                      className=\"flex items-start gap-2 p-2 bg-[#1a1a1a] border border-[#2a2a2a] hover:border-[#333] transition-colors rounded\"\r\n                    >\r\n                      <Avatar icon={msg.avatar || 'crown'} size=\"sm\" />\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <div className=\"flex items-start justify-between mb-1\">\r\n                          <span className=\"text-[10px] font-bold text-success\">\r\n                            {msg.username}\r\n                          </span>\r\n                          <span className=\"text-[8px] text-[#666]\">\r\n                            {formatTime(msg.createdAt)}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-xs text-[#d0d0d0] break-words\">{msg.message}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n\r\n              {/* Input */}\r\n              <form onSubmit={sendMessage} className=\"p-3 bg-[#1a1a1a] border-t border-[#333]\">\r\n                <div className=\"flex gap-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newMessage}\r\n                    onChange={(e) => setNewMessage(e.target.value)}\r\n                    placeholder=\"Type a message...\"\r\n                    maxLength={200}\r\n                    className=\"flex-1 px-3 py-2 bg-[#0f0f0f] border border-[#333] text-[#d0d0d0] text-xs focus:outline-none focus:border-[#5cb85c] rounded\"\r\n                  />\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={!newMessage.trim()}\r\n                    className=\"px-4 py-2 bg-[#5cb85c] hover:bg-[#4a9d4a] text-white text-xs font-bold uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed rounded transition-colors\"\r\n                  >\r\n                    Send\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}"],"names":["useEffect","useState","createClient","MessageSquare","X","Minus","Avatar","ChatMessage","id","username","avatar","message","createdAt","FloatingChat","isOpen","setIsOpen","isMinimized","setIsMinimized","messages","setMessages","newMessage","setNewMessage","setUsername","supabase","loadUsername","loadChat","interval","setInterval","clearInterval","data","user","auth","getUser","user_metadata","email","split","response","fetch","ok","json","error","console","sendMessage","e","React","FormEvent","preventDefault","trim","method","headers","body","JSON","stringify","formatTime","timestamp","now","Date","eventTime","diffMs","getTime","diffMins","Math","floor","diffHours","length","map","msg","target","value"],"mappings":";;;;;AAEA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,aAAa,EAAEC,CAAC,EAAEC,KAAK,QAAQ,cAAc;;;AACtD,SAASC,MAAM,QAAQ,wBAAwB;;;AAL/C,YAAY;;;;;AAeL;;IACL,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,OAAGd,4TAAQ,EAAC,KAAK,CAAC;IAC3C,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,OAAGhB,4TAAQ,EAAC,KAAK,CAAC;IACrD,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,OAAGlB,4TAAQ,CAACM,CAAe,EAAE,CAAC,OAAP,EAAE,CAAC;IACvD,MAAM,CAACa,UAAU,EAAEC,aAAa,CAAC,OAAGpB,4TAAQ,EAAC,EAAE,CAAC;IAChD,MAAM,CAACQ,QAAQ,EAAEa,WAAW,CAAC,OAAGrB,4TAAQ,EAAC,QAAQ,CAAC;IAClD,MAAMsB,QAAQ,GAAGrB,oLAAY,CAAC,CAAC;QAE/BF,6TAAS;kCAAC,MAAM;YACdwB,YAAY,CAAC,CAAC;YACd,IAAIV,MAAM,IAAI,CAACE,WAAW,EAAE;gBAC1BS,QAAQ,CAAC,CAAC;gBACV,MAAMC,QAAQ,GAAGC,WAAW,CAACF,QAAQ,EAAE,IAAI,CAAC;gBAC5C;8CAAO,IAAMG,aAAa,CAACF,QAAQ,CAAC;;YACtC;QACF,CAAC;iCAAE;QAACZ,MAAM;QAAEE,WAAW;KAAC,CAAC;IAEzB,MAAMQ,YAAY,GAAG,MAAAA,CAAA,KAAY;QAC/B,MAAM,EAAEK,IAAI,EAAE,EAAEC,IAAAA,EAAK,EAAG,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAACC,OAAO,CAAC,CAAC;QACxD,IAAIF,IAAI,EAAEG,aAAa,EAAExB,QAAQ,EAAE;YACjCa,WAAW,CAACQ,IAAI,CAACG,aAAa,CAACxB,QAAQ,CAAC;QAC1C,CAAC,MAAM;YACLa,WAAW,CAACQ,IAAI,EAAEI,KAAK,EAAEC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,QAAQ,CAAC;QACrD;IACF,CAAC;IAED,MAAMV,QAAQ,GAAG,MAAAA,CAAA,KAAY;QAC3B,IAAI;YACF,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAAC,WAAW,CAAC;YACzC,IAAID,QAAQ,CAACE,EAAE,EAAE;gBACf,MAAMT,IAAI,GAAG,MAAMO,QAAQ,CAACG,IAAI,CAAC,CAAC;gBAClCpB,WAAW,CAACU,IAAI,CAACX,QAAQ,CAAC;YAC5B;QACF,CAAC,CAAC,OAAOsB,KAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC9C;IACF,CAAC;IAED,MAAME,WAAW,GAAG,MAAAA,CAAOC,CAAC,EAAEC,KAAK,CAACC,SAAS,KAAK;QAChDF,CAAC,CAACG,cAAc,CAAC,CAAC;QAClB,IAAI,CAAC1B,UAAU,CAAC2B,IAAI,CAAC,CAAC,EAAE;QAExB,IAAI;YACF,MAAMX,UAAQ,GAAG,MAAMC,KAAK,CAAC,WAAW,EAAE;gBACxCW,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;oBAAE,cAAc,EAAE;gBAAmB,CAAC;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;oBAAEzC,OAAO,EAAES;gBAAW,CAAC;YAC9C,CAAC,CAAC;YAEF,IAAIgB,UAAQ,CAACE,EAAE,EAAE;gBACfjB,aAAa,CAAC,EAAE,CAAC;gBACjBI,QAAQ,CAAC,CAAC;YACZ;QACF,CAAC,CAAC,OAAOe,OAAK,EAAE;YACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,OAAK,CAAC;QACjD;IACF,CAAC;IAED,MAAMa,UAAU,GAAGA,CAACC,SAAS,EAAE,MAAM,KAAK;QACxC,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;QACtB,MAAMC,SAAS,GAAG,IAAID,IAAI,CAACF,SAAS,CAAC;QACrC,MAAMI,MAAM,GAAGH,GAAG,CAACI,OAAO,CAAC,CAAC,GAAGF,SAAS,CAACE,OAAO,CAAC,CAAC;QAClD,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACJ,MAAM,GAAG,KAAK,CAAC;QAE3C,IAAIE,QAAQ,GAAG,CAAC,EAAE,OAAO,KAAK;QAC9B,IAAIA,QAAQ,GAAG,EAAE,EAAE,OAAO,GAAGA,QAAQ,CAAA,CAAA,CAAG;QACxC,MAAMG,SAAS,GAAGF,IAAI,CAACC,KAAK,CAACF,QAAQ,GAAG,EAAE,CAAC;QAC3C,IAAIG,SAAS,GAAG,EAAE,EAAE,OAAO,GAAGA,SAAS,CAAA,CAAA,CAAG;QAC1C,OAAO,GAAGF,IAAI,CAACC,KAAK,CAACC,SAAS,GAAG,EAAE,CAAC,CAAA,CAAA,CAAG;IACzC,CAAC;IAED,qBACE,EAAE;;YAEC,CAACjD,MAAM,kBACN,gVAAC,MAAM;gBACL,OAAO,CAAC,CAAC,IAAMC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAC/B,SAAS,EAAC,kIAAkI,CAC7I;;kCACC,gVAAC,oWAAa;wBAAC,SAAS,EAAC,SAAS,GAAG;;;;;;oBACpCG,QAAQ,CAAC8C,MAAM,GAAG,CAAC,kBAClB,gVAAC,IAAI;wBAAC,SAAS,EAAC,mHAAmH,CAAC;kCACjI9C,QAAQ,CAAC8C,MAAM,GAAG,EAAE,GAAG,KAAK,GAAG9C,QAAQ,CAAC8C,MAAM,CAAC;;;;;;;;;;;;YAOvDlD,MAAM,kBACL,gVAAC,GAAG;gBAAC,SAAS,CAAC,CAAC,CAAA,2CAAA,EAA8CE,WAAW,GAAG,MAAM,GAAG,WAAW,CAAA,qGAAA,CAAuG,CAAC,CAAC;;kCAEvM,gVAAC,GAAG;wBAAC,SAAS,EAAC,2EAA2E,CAAC;;0CACzF,gVAAC,GAAG;gCAAC,SAAS,EAAC,yBAAyB,CAAC;;kDACvC,gVAAC,oWAAa;wCAAC,SAAS,EAAC,sBAAsB,GAAG;;;;;;kDAClD,gVAAC,IAAI;wCAAC,SAAS,EAAC,wDAAwD;kDAAC;;;;;;kDAGzE,gVAAC,IAAI;wCAAC,SAAS,EAAC,0BAA0B;;4CAAC,EAAE;4CAACE,QAAQ,CAAC8C,MAAM,CAAC,EAAE,IAAI,CAAC;;;;;;;;;;;;;0CAEvE,gVAAC,GAAG;gCAAC,SAAS,EAAC,yBAAyB,CAAC;;kDACvC,gVAAC,MAAM;wCACL,OAAO,CAAC,CAAC,IAAM/C,cAAc,CAAC,CAACD,WAAW,CAAC,CAAC;wCAC5C,SAAS,EAAC,kDAAkD,CAC7D;gEACC,gVAAC,wUAAK;4CAAC,SAAS,EAAC,qBAAqB,GAAG;;;;;;;;;;;kDAE3C,gVAAC,MAAM;wCACL,OAAO,CAAC,CAAC,IAAMD,SAAS,CAAC,KAAK,CAAC,CAAC;wCAChC,SAAS,EAAC,kDAAkD,CAC7D;gEACC,gVAAC,4TAAC;4CAAC,SAAS,EAAC,qBAAqB,GAAG;;;;;;;;;;;;;;;;;;;;;;;oBAM1C,CAACC,WAAW,kBACX,EAAE;;0CACA,gVAAC,GAAG;gCAAC,SAAS,EAAC,sCAAsC,CAAC;0CACnDE,QAAQ,CAAC8C,MAAM,KAAK,CAAC,iBACpB,gVAAC,CAAC;oCAAC,SAAS,EAAC,sCAAsC;8CAAC;;;;;2CAIpD9C,QAAQ,CAAC+C,GAAG,EAAEC,GAAG,iBACf,gVAAC,GAAG,CACF,GAAG,CAAC;wCACJ,SAAS,EAAC,+GAA+G,CAC1H;;0DACC,gVAAC,4KAAM;gDAAC,IAAI,CAAC,CAACA,GAAG,CAACxD,MAAM,IAAI,OAAO,CAAC;gDAAC,IAAI,EAAC,IAAI,GAAG;;;;;;0DACjD,gVAAC,GAAG;gDAAC,SAAS,EAAC,gBAAgB,CAAC;;kEAC9B,gVAAC,GAAG;wDAAC,SAAS,EAAC,uCAAuC,CAAC;;0EACrD,gVAAC,IAAI;gEAAC,SAAS,EAAC,oCAAoC,CAAC;0EAClDwD,GAAG,CAACzD,QAAQ,CAAC;;;;;;0EAEhB,gVAAC,IAAI;gEAAC,SAAS,EAAC,wBAAwB,CAAC;0EACtC4C,UAAU,CAACa,GAAG,CAACtD,SAAS,CAAC,CAAC;;;;;;;;;;;;kEAG/B,gVAAC,CAAC;wDAAC,SAAS,EAAC,oCAAoC,CAAC;kEAACsD,GAAG,CAACvD,OAAO,CAAC,EAAE,CAAC,CAAC;;;;;;;;;;;;;uCAbhEuD,GAAG,CAAC1D,EAAE,CAAC;;;;;;;;;;0CAqBpB,gVAAC,IAAI;gCAAC,QAAQ,CAAC,CAACkC,WAAW,CAAC;gCAAC,SAAS,EAAC,yCAAyC,CAAC;wDAC/E,gVAAC,GAAG;oCAAC,SAAS,EAAC,YAAY,CAAC;;sDAC1B,gVAAC,KAAK;4CACJ,IAAI,EAAC,MAAM;4CACX,KAAK,CAAC,CAACtB,UAAU,CAAC;4CAClB,QAAQ,CAAC,EAAEuB,GAAC,GAAKtB,aAAa,CAACsB,GAAC,CAACwB,MAAM,CAACC,KAAK,CAAC,CAAC;4CAC/C,WAAW,EAAC,mBAAmB;4CAC/B,SAAS,CAAC,CAAC,GAAG,CAAC;4CACf,SAAS,EAAC,6HAA6H,GACvI;;;;;;sDACF,gVAAC,MAAM;4CACL,IAAI,EAAC,QAAQ;4CACb,QAAQ,CAAC,CAAC,CAAChD,UAAU,CAAC2B,IAAI,CAAC,CAAC,CAAC;4CAC7B,SAAS,EAAC,2KAA2K;sDACtL;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB;;KA7KgBlC,YAAYA,CAAA,EAAG","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2368, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/components/dashboard/FloatingFeed.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { TrendingUp, X, Minus } from 'lucide-react'\r\n\r\ninterface GameEvent {\r\n  id: string\r\n  type: string\r\n  message: string\r\n  userId: string | null\r\n  username?: string\r\n  createdAt: string\r\n}\r\n\r\nexport function FloatingFeed() {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isMinimized, setIsMinimized] = useState(false)\r\n  const [events, setEvents] = useState<GameEvent[]>([])\r\n\r\n  useEffect(() => {\r\n    if (isOpen && !isMinimized) {\r\n      loadEvents()\r\n      const interval = setInterval(loadEvents, 5000)\r\n      return () => clearInterval(interval)\r\n    }\r\n  }, [isOpen, isMinimized])\r\n\r\n  const loadEvents = async () => {\r\n    try {\r\n      const response = await fetch('/api/events')\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setEvents(data.events.slice(0, 20))\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load events:', error)\r\n    }\r\n  }\r\n\r\n  const getEventIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'crime': return '🔫'\r\n      case 'travel': return '✈️'\r\n      case 'business': return '💼'\r\n      case 'level_up': return '⬆️'\r\n      case 'gang': return '👥'\r\n      default: return '📰'\r\n    }\r\n  }\r\n\r\n  const formatTime = (timestamp: string) => {\r\n    const now = new Date()\r\n    const eventTime = new Date(timestamp)\r\n    const diffMs = now.getTime() - eventTime.getTime()\r\n    const diffMins = Math.floor(diffMs / 60000)\r\n    \r\n    if (diffMins < 1) return 'now'\r\n    if (diffMins < 60) return `${diffMins}m`\r\n    const diffHours = Math.floor(diffMins / 60)\r\n    if (diffHours < 24) return `${diffHours}h`\r\n    return `${Math.floor(diffHours / 24)}d`\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Button */}\r\n      {!isOpen && (\r\n        <button\r\n          onClick={() => setIsOpen(true)}\r\n          className=\"fixed bottom-24 right-6 z-50 p-4 bg-[#f0ad4e] hover:bg-[#ec971f] text-white rounded-full shadow-lg transition-all hover:scale-110\"\r\n        >\r\n          <TrendingUp className=\"w-6 h-6\" />\r\n          {events.length > 0 && (\r\n            <span className=\"absolute -top-1 -right-1 w-5 h-5 bg-[#d9534f] rounded-full text-[10px] font-bold flex items-center justify-center\">\r\n              {events.length}\r\n            </span>\r\n          )}\r\n        </button>\r\n      )}\r\n\r\n      {/* Feed Window */}\r\n      {isOpen && (\r\n        <div className={`fixed bottom-24 right-6 z-50 w-full md:w-96 ${isMinimized ? 'h-14' : 'h-[500px]'} bg-[#0f0f0f] border border-[#333] shadow-2xl flex flex-col transition-all rounded-lg overflow-hidden`}>\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-3 bg-[#1a1a1a] border-b border-[#333]\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <TrendingUp className=\"w-4 h-4 text-warning\" />\r\n              <span className=\"text-sm font-bold text-[#fff] uppercase tracking-wider\">\r\n                Live Feed\r\n              </span>\r\n              <span className=\"text-[10px] text-success\">● LIVE</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                onClick={() => setIsMinimized(!isMinimized)}\r\n                className=\"p-1 hover:bg-[#2a2a2a] rounded transition-colors\"\r\n              >\r\n                <Minus className=\"w-4 h-4 text-[#888]\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"p-1 hover:bg-[#2a2a2a] rounded transition-colors\"\r\n              >\r\n                <X className=\"w-4 h-4 text-[#888]\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Events */}\r\n          {!isMinimized && (\r\n            <div className=\"flex-1 overflow-y-auto p-3 space-y-2\">\r\n              {events.length === 0 ? (\r\n                <p className=\"text-[#888] text-xs text-center py-8\">\r\n                  📰 No recent activity\r\n                </p>\r\n              ) : (\r\n                events.map((event) => (\r\n                  <div\r\n                    key={event.id}\r\n                    className=\"flex items-start gap-2 p-2 bg-[#1a1a1a] border border-[#2a2a2a] hover:border-[#333] transition-colors rounded\"\r\n                  >\r\n                    <span className=\"text-lg\">{getEventIcon(event.type)}</span>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <p className=\"text-[10px] text-[#d0d0d0] break-words leading-tight\">\r\n                        {event.message}\r\n                      </p>\r\n                      <p className=\"text-[8px] text-[#666] mt-1\">\r\n                        {formatTime(event.createdAt)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  )\r\n}"],"names":["useEffect","useState","TrendingUp","X","Minus","GameEvent","id","type","message","userId","username","createdAt","FloatingFeed","isOpen","setIsOpen","isMinimized","setIsMinimized","events","setEvents","loadEvents","interval","setInterval","clearInterval","response","fetch","ok","data","json","slice","error","console","getEventIcon","formatTime","timestamp","now","Date","eventTime","diffMs","getTime","diffMins","Math","floor","diffHours","length","map","event"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 2625, "column": 0}, "map": {"version":3,"sources":["C:/Users/Montech.DESKTOP-HFD37TP/Desktop/life-crime-game/app/dashboard/layout.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\nimport { createClient } from '@/lib/supabase/client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useCharacterStore } from '@/lib/character-store'\r\nimport { Sidebar } from '@/components/dashboard/Sidebar'\r\nimport { TopBar } from '@/components/dashboard/TopBar'\r\nimport { FloatingChat } from '@/components/dashboard/FloatingChat'\r\nimport { FloatingFeed } from '@/components/dashboard/FloatingFeed'\r\nimport type { User } from '@supabase/supabase-js'\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const [user, setUser] = useState<User | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const router = useRouter()\r\n  const supabase = createClient()\r\n  const { fetchCharacter, character } = useCharacterStore()\r\n\r\n  useEffect(() => {\r\n    let mounted = true\r\n\r\n    const checkAuth = async () => {\r\n      try {\r\n        const { data: { user } } = await supabase.auth.getUser()\r\n        \r\n        if (!mounted) return\r\n        \r\n        if (!user) {\r\n          router.push('/login')\r\n          return\r\n        }\r\n\r\n        setUser(user)\r\n\r\n        // Fetch character tylko raz\r\n        if (!character) {\r\n          await fetchCharacter()\r\n          \r\n          // Check if character was created\r\n          setTimeout(async () => {\r\n            if (!mounted) return\r\n            \r\n            const currentState = useCharacterStore.getState()\r\n            \r\n            if (!currentState.character) {\r\n              console.log('🎮 Creating new character...')\r\n              \r\n              const response = await fetch('/api/character', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                  userId: user.id,\r\n                  name: 'Player'\r\n                })\r\n              })\r\n\r\n              if (response.ok) {\r\n                await fetchCharacter()\r\n              }\r\n            }\r\n            \r\n            if (mounted) {\r\n              setIsLoading(false)\r\n            }\r\n          }, 500)\r\n        } else {\r\n          setIsLoading(false)\r\n        }\r\n      } catch (error) {\r\n        console.error('Auth error:', error)\r\n        if (mounted) {\r\n          setIsLoading(false)\r\n        }\r\n      }\r\n    }\r\n\r\n    checkAuth()\r\n\r\n    // Auth state listener\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        if (!mounted) return\r\n        \r\n        if (event === 'SIGNED_OUT') {\r\n          router.push('/login')\r\n        } else if (event === 'SIGNED_IN' && session?.user) {\r\n          setUser(session.user)\r\n        }\r\n      }\r\n    )\r\n\r\n    return () => {\r\n      mounted = false\r\n      subscription.unsubscribe()\r\n    }\r\n  }, []) // TYLKO PUSTY ARRAY!\r\n\r\n  if (isLoading || !user) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-[#0f0f0f]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-2 border-solid border-[#5cb85c] border-r-transparent mb-4\"></div>\r\n          <p className=\"text-[#888] text-xs uppercase tracking-wider\">Loading your empire...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!character) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen bg-[#0f0f0f]\">\r\n        <div className=\"text-center\">\r\n          <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-2 border-solid border-[#5cb85c] border-r-transparent mb-4\"></div>\r\n          <p className=\"text-[#888] text-xs uppercase tracking-wider\">Setting up your character...</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-[#0f0f0f] overflow-hidden\">\r\n      {/* Desktop Sidebar */}\r\n      <aside className=\"hidden lg:block desktop-sidebar\">\r\n        <Sidebar />\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n        {/* Top Bar */}\r\n        <TopBar />\r\n\r\n        {/* Page Content */}\r\n        <main className=\"flex-1 overflow-y-auto p-4 md:p-6 bg-[#0f0f0f]\">\r\n          {children}\r\n        </main>\r\n      </div>\r\n\r\n      {/* Floating Widgets */}\r\n      <FloatingChat />\r\n      <FloatingFeed />\r\n    </div>\r\n  )\r\n}"],"names":["c","_c","useEffect","useState","createClient","useRouter","useCharacterStore","Sidebar","TopBar","FloatingChat","FloatingFeed","User","DashboardLayout","t0","$","$i","Symbol","for","children","user","setUser","isLoading","setIsLoading","router","t1","supabase","fetchCharacter","character","t2","DashboardLayout[useEffect()]","mounted","checkAuth","DashboardLayout[useEffect() > checkAuth]","data","t4","auth","getUser","user_0","push","setTimeout","DashboardLayout[useEffect() > checkAuth > setTimeout()]","currentState","getState","console","log","response","fetch","method","headers","body","JSON","stringify","userId","id","name","ok","t3","error","t5","onAuthStateChange","DashboardLayout[useEffect() > supabase.auth.onAuthStateChange()]","event","session","subscription","unsubscribe","t6","t7","t8","t9"],"mappings":"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","ignoreList":[],"debugId":null}}]
}